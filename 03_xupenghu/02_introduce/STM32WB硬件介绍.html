<!DOCTYPE html>
<html class="writer-html5" lang="zh-CN" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2. STM32WB 硬件介绍 &mdash; bluetoothlover_wiki 0.0.1 文档</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/translations.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="3. 使用NRF52xx sniffer抓取BLE包" href="../03_nrf_sniffer/nrf_ble_sniffer.html" />
    <link rel="prev" title="1. 简单自我介绍" href="../01_introduce/01_intruduce.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> bluetoothlover_wiki
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">BLE knowledge:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../ble/index.html">BLE STACK篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ble_profile/index.html">BLE PROFILE篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../nordic/index.html">Nordic 篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../WB55/index.html">STM32WB55 篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../WIKI_FAQ/index.html">WIKI FAQ 篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../RTTHREAD/index.html">RTTHRED: RT-Thread</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../12_ESP32/index.html">ESP32</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../DEBUG/index.html">EMBEDDED DEBUG 篇</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../00_supperthomas/index.html">MASTER:supperthomas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_helloworldzlg/index.html">WB55:helloworldzlg</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../02_Jackistang/index.html">WB55:Jackistang</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">WB55:xupenghu</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01_introduce/01_intruduce.html">1. 简单自我介绍</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">2. STM32WB 硬件介绍</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id1">2.1. 1 系统和存储</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">1.1 系统总览</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">1.2 STM32WB总线架构</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">1.3 总线矩阵</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">1.4 存储分布</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">1.5 STM32WB闪存特点</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#rf">2.2. 2 RF射频简介</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id7">2.1 RF参数简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">2.2 STM32WB典型外围电路</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stm32wb-rf">2.3 STM32WB RF输入/输出匹配网络</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id9">2.3. 3 电源管理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id10">3.1 供电方案框图</a></li>
<li class="toctree-l4"><a class="reference internal" href="#smps">3.2 内部SMPS</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">3.3 电源配置</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">3.4 SMPS原理图</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#id13">2.4. 4 核间通信和安全管理</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#hsem">4.1 HSEM</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ipcc">4.2 IPCC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id17">4.3 安全管理</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cortex-m0">4.4 Cortex-M0+安全性</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../03_nrf_sniffer/nrf_ble_sniffer.html">3. 使用NRF52xx sniffer抓取BLE包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../04_btsnoop_hci/android_hci.html">4. 使用Android手机抓取蓝牙HCI包</a></li>
<li class="toctree-l2"><a class="reference internal" href="../05_art-pi_ble_netin/art-pi_net_connect_with_ble.html">5. ART-PI开发板蓝牙配网流程分析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../06_stm32wb55_ble_start/stm32wb55_ble_start.html">6. STM32WB55 蓝牙协议栈运行流程解析</a></li>
<li class="toctree-l2"><a class="reference internal" href="../07_stm32wb55_ble_ibeacon/stm32wb55_ble_ibeacon.html">7. stm32wb55 基于rtt的ble sample制作过程</a></li>
<li class="toctree-l2"><a class="reference internal" href="../08_rt-thread_packages/08_rt-thread_packages.html">8. RT-Thread 软件包制作及发布流程</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../04_dozingfiretruck/index.html">WB55:dozingfiretruck</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../05_luhuadong/index.html">WB55:luhuadong</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../09_answerinthewind/index.html">WB55:answerinthewind</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../06_chenyingchun0312/index.html">NORDIC:chenyingchun0312</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../07_ylz0923/index.html">NORDIC:ylz0923</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../08_guohp1128/index.html">NORDIC:guohp1128</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../10_jiy/index.html">NORDIC:jiy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../11_ForestRain/index.html">NORDIC:ForestRain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../13_xiangxistu/index.html">NORDIC:xiangxistu</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../14_bobwenstudy/index.html">NORDIC:bobwenstudy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../16_ColeStudy/index.html">NORDIC:ColeStudy</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">bluetoothlover_wiki</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">WB55:xupenghu</a></li>
      <li class="breadcrumb-item active"><span class="section-number">2. </span>STM32WB 硬件介绍</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/03_xupenghu/02_introduce/STM32WB硬件介绍.md.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stm32wb">
<h1><span class="section-number">2. </span>STM32WB 硬件介绍<a class="headerlink" href="#stm32wb" title="此标题的永久链接"></a></h1>
<section id="id1">
<h2><span class="section-number">2.1. </span>1 系统和存储<a class="headerlink" href="#id1" title="此标题的永久链接"></a></h2>
<section id="id2">
<h3>1.1 系统总览<a class="headerlink" href="#id2" title="此标题的永久链接"></a></h3>
<p>STM32使用双核架构，一个cortex-m4核负责app程序开发，一个cortex-m0核负责射频协议栈，还有一个radio子系统负责RF部分。
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930104503435.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
<section id="id3">
<h3>1.2 STM32WB总线架构<a class="headerlink" href="#id3" title="此标题的永久链接"></a></h3>
<p>如下图所示，基本的外设都被CPU1域，也就是cortex-m4内核访问，CPU1和CPU2通过SRAM2通讯。
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930104700362.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
<section id="id4">
<h3>1.3 总线矩阵<a class="headerlink" href="#id4" title="此标题的永久链接"></a></h3>
<p><img alt="https://img-blog.csdnimg.cn/20200930105113141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" src="https://img-blog.csdnimg.cn/20200930105113141.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
<section id="id5">
<h3>1.4 存储分布<a class="headerlink" href="#id5" title="此标题的永久链接"></a></h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930105157465.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
<section id="id6">
<h3>1.5 STM32WB闪存特点<a class="headerlink" href="#id6" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>共享</p>
<ul>
<li><p>闪存的一部分是为RF射频子系统CPU2保护的，为了安全区域，主机CPU1无法访问。</p></li>
</ul>
</li>
<li><p>使用ART加速</p>
<ul>
<li><p>同时执行代码CM4和CM0+对MIPS的影响约为0%，在单独的AHB总线上，它有自己的时钟分频器。</p></li>
</ul>
</li>
<li><p>3级保护</p>
<ul>
<li><p>级别0（无保护）至级别2（最大保护）</p></li>
</ul>
</li>
<li><p>限制</p>
<ul>
<li><p>在射频活跃期间，flash擦除或存储不应该被启动。因为射频活跃期间cpu1会频繁读写flash。</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="rf">
<h2><span class="section-number">2.2. </span>2 RF射频简介<a class="headerlink" href="#rf" title="此标题的永久链接"></a></h2>
<section id="id7">
<h3>2.1 RF参数简介<a class="headerlink" href="#id7" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>模拟前端</p>
<ul>
<li><p>最大输出功率</p>
<ul>
<li><p>集成巴伦，6dbm发射功率，具有1dbm步进调节</p></li>
<li><p>专用引脚驱动外部PA，可以获得最大20dbm的输出功率</p></li>
</ul>
</li>
<li><p>接收灵敏度</p>
<ul>
<li><p>BLE：1Mbps &#64;-96dbm， 2Mbps &#64;-94dbm（250kbps和125kbps不支持）</p></li>
<li><p>802.15.4：250kbps &#64; -100dbm</p></li>
</ul>
</li>
<li><p>功耗&#64;3.3V</p>
<ul>
<li><p>TX：&#64;0dbm：5.2mA</p></li>
<li><p>RX:4.5mA</p></li>
<li><p>stop2 with radio in standy (accurate clock LS12):1.8uA</p></li>
</ul>
</li>
</ul>
</li>
<li><p>调制解调器</p>
<ul>
<li><p>通过硬件格式化BLE包（对软件完全开放射频）支持1和2Mbps速率</p></li>
<li><p>IEEE 802.15.4 ：硬件模式支持250Kbps通信速率</p></li>
</ul>
</li>
</ul>
</section>
<section id="id8">
<h3>2.2 STM32WB典型外围电路<a class="headerlink" href="#id8" title="此标题的永久链接"></a></h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930110652529.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
<section id="stm32wb-rf">
<h3>2.3 STM32WB RF输入/输出匹配网络<a class="headerlink" href="#stm32wb-rf" title="此标题的永久链接"></a></h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930110754104.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" />
一个Π型滤波网络加50Ω阻抗匹配。</p>
</section>
</section>
<section id="id9">
<h2><span class="section-number">2.3. </span>3 电源管理<a class="headerlink" href="#id9" title="此标题的永久链接"></a></h2>
<section id="id10">
<h3>3.1 供电方案框图<a class="headerlink" href="#id10" title="此标题的永久链接"></a></h3>
<p>如下图所示，各个电源阈单独供电，在供电选择上有很大的灵活性。
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930111004948.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
<section id="smps">
<h3>3.2 内部SMPS<a class="headerlink" href="#smps" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>SMPS用于降低VDD电源</p></li>
<li><p>SMPS为数字核心和射频LDO供电</p></li>
<li><p>当VDD电源高于BOR[1..4]阈值时，使用SMPS模式</p>
<ul>
<li><p>低于此阈值使用旁路模式，支持及时切换</p></li>
<li><p>通过HW机制执行关闭，通过SW重新开启</p></li>
</ul>
</li>
<li><p>SMPS降遵循社保操作模式</p>
<ul>
<li><p>在Run和stop0模式下为On</p></li>
<li><p>在stop1 2 待机standby和关机shutdown模式下，SMPS自动处于开放模式，唤醒时自动恢复进入前使用模式</p></li>
</ul>
</li>
</ul>
</section>
<section id="id11">
<h3>3.3 电源配置<a class="headerlink" href="#id11" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>高性能使用SMPS</p>
<ul>
<li><p>通过添加外部电容和线圈，SMPS用于降低功耗
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930112611960.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p></li>
</ul>
</li>
<li><p>低成本今适用于LDO</p>
<ul>
<li><p>通过短接SMPS输入。LDO直接由VDD提供节省电容和电感成本，但是功耗会增加。
<img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930112744994.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p></li>
</ul>
</li>
</ul>
</section>
<section id="id12">
<h3>3.4 SMPS原理图<a class="headerlink" href="#id12" title="此标题的永久链接"></a></h3>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930112824925.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
</section>
<section id="id13">
<h2><span class="section-number">2.4. </span>4 核间通信和安全管理<a class="headerlink" href="#id13" title="此标题的永久链接"></a></h2>
<section id="hsem">
<h3>4.1 HSEM<a class="headerlink" href="#hsem" title="此标题的永久链接"></a></h3>
<p>STM32WB集成硬件信号量模块，该模块用于同步进程和管理共享资源访问权限。具体如下。</p>
<ul class="simple">
<li><p>管理和访问权限和同步</p>
<ul>
<li><p>运行于同一个cpu上的不同进程</p></li>
<li><p>不同的cpu</p></li>
</ul>
</li>
<li><p>32个硬件信号量</p></li>
<li><p>两种锁定机制</p>
<ul>
<li><p>2-step write， read back lock</p></li>
<li><p>1-step read lock</p></li>
</ul>
</li>
<li><p>信号量释放产生中断</p></li>
<li><p>应用优势</p>
<ul>
<li><p>防止共享资源访问冲突</p></li>
<li><p>确保进程之间的同步</p></li>
<li><p>无阻塞信号量处理</p></li>
</ul>
</li>
</ul>
<section id="id14">
<h4>4.1.1 HSEM框图<a class="headerlink" href="#id14" title="此标题的永久链接"></a></h4>
<p>HSEM模块位于AHB总线上，由AHB接口和中断管理构成，每个CPU都有一个专用中断，并且都有自己的使能、状态、掩码和清除寄存器。每个信号量由两个寄存器组成，一个读写寄存器，用于在两步锁过程中对信号量进行写操作并读取信号量状态，它也可以释放信号量；另一个是读寄存器，它用于一步锁过程中的读取锁。
<img alt="框图" src="https://img-blog.csdnimg.cn/20200930141938212.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
<center>HSEM框图</center><p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930142349269.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
<center>2步 写-回读锁机制</center><p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930142506381.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
<center>1步 锁机制</center></section>
<section id="id15">
<h4>4.1.2 信号量使用 - 共享资源<a class="headerlink" href="#id15" title="此标题的永久链接"></a></h4>
<p>两个CPU可以同时访问的所有外设都受硬件信号量保护，在访问此类外设之前，应首先获取相关的信号量并在使用完之后释放。</p>
<table border="1" class="docutils">
<thead>
<tr>
<th>Semaphore</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>sem0</td>
<td>RNG-All registers</td>
</tr>
<tr>
<td>sem1</td>
<td>PKA-all registers</td>
</tr>
<tr>
<td>sem2</td>
<td>Flash - All registers</td>
</tr>
<tr>
<td>sem3</td>
<td>RCC_CR RCC_CRRCR RCC_EXTCFGR RCC_CFGR</td>
</tr>
</tbody>
</table></section>
<section id="id16">
<h4>4.1.3 信号量 - 闪存写入和擦除<a class="headerlink" href="#id16" title="此标题的永久链接"></a></h4>
<ul class="simple">
<li><p>要在闪存种写入，应用程序应该</p>
<ul>
<li><p>获取Sem2</p></li>
<li><p>写入闪存</p></li>
<li><p>释放sem2</p></li>
</ul>
</li>
<li><p>擦除扇区，应用程序应该</p>
<ul>
<li><p>获取Sem2</p></li>
<li><p>发送SHCI_C2_FLASH_Erase_Actiity(erase_activity_ON)命令给CPU2</p></li>
<li><p>擦除一个或多个扇区</p></li>
<li><p>释放Sem2</p></li>
<li><p>发送SHCI_C2_FLASH_Erase_Activity( erase_activity_OFF ) 命令给 CPU2</p></li>
</ul>
</li>
</ul>
</section>
</section>
<section id="ipcc">
<h3>4.2 IPCC<a class="headerlink" href="#ipcc" title="此标题的永久链接"></a></h3>
<p>IPCC是核间通讯控制模块，它可以提供中断信令，允许微控制器以非阻塞的方式交换信息。</p>
<ul>
<li><p>为通信信道管理提供非阻塞信令</p>
<ul class="simple">
<li><p>消息可用性中断</p></li>
<li><p>流量开启中断通知</p></li>
</ul>
</li>
<li><p>通讯方式</p>
<ul class="simple">
<li><p>单工：每个方向的专用通道</p></li>
<li><p>半双工：单个共享双向通道</p></li>
</ul>
</li>
<li><p>最多6个双向通道</p>
<ul class="simple">
<li><p>通道数据存储在共享ram中</p></li>
</ul>
</li>
<li><p>应用优势</p>
<ul class="simple">
<li><p>非阻塞信息交换</p></li>
<li><p>通道流量控制</p></li>
<li><p>支持CPU sleep和stop模式</p></li>
</ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930145138448.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</li>
</ul>
</section>
<section id="id17">
<h3>4.3 安全管理<a class="headerlink" href="#id17" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>BLE外设可以安全使用以下外设</p>
<ul>
<li><p>AES1（仅限IP加密密钥）用于应用程序的加密引擎</p></li>
<li><p>AES2（Full IP）用于IEEE802.15.4的加密引擎</p></li>
<li><p>PKA（Full IP）用于加密密钥的生成</p></li>
<li><p>True RNG（Full IP）用于加密密钥的生成</p></li>
</ul>
</li>
<li><p>对安全IP的访问由HSEM管理</p>
<ul>
<li><p>HSEM x,y,z用于管理共享安全外围设备访问</p></li>
</ul>
</li>
<li><p>BLE堆栈提供以下加密密钥功能</p>
<ul>
<li><p>密钥存储</p></li>
<li><p>密钥更新</p></li>
<li><p>密钥删除</p></li>
<li><p>密钥加载（在AES1中）</p></li>
</ul>
</li>
</ul>
</section>
<section id="cortex-m0">
<h3>4.4 Cortex-M0+安全性<a class="headerlink" href="#cortex-m0" title="此标题的永久链接"></a></h3>
<ul class="simple">
<li><p>闪存的上半部分只能由cortex-m0+访问</p>
<ul>
<li><p>由安全选项字SFD和SFSA定义</p></li>
</ul>
</li>
<li><p>全局安全使能</p>
<ul>
<li><p>允许通过安全选项字SBRD和SBRSA来添加SRAM2a上的部分安全性</p></li>
<li><p>允许通过安全选项字SNBRD和SNBRSA来添加SRAM2b闪的部分安全性</p></li>
<li><p>运行通过SYSCFG使能外设的安全性</p></li>
</ul>
</li>
</ul>
<p><img alt="在这里插入图片描述" src="https://img-blog.csdnimg.cn/20200930150204374.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3UwMTQ0MjE1MjA=,size_16,color_FFFFFF,t_70#pic_center" /></p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="../01_introduce/01_intruduce.html" class="btn btn-neutral float-left" title="1. 简单自我介绍" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
        <a href="../03_nrf_sniffer/nrf_ble_sniffer.html" class="btn btn-neutral float-right" title="3. 使用NRF52xx sniffer抓取BLE包" accesskey="n" rel="next">下一页 <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2020, apache.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>